\input{mmd-article-header}
\def\mytitle{MultiMarkdown Headers Test}
\def\latexmode{memoir}
\input{mmd-article-begin-doc}
\section{Normal Header}
\label{normalheader}

plain text

\section{Normal Header with trailing space}
\label{normalheaderwithtrailingspace}

\chapter{Normal Header with trailing space}
\label{normalheaderwithtrailingspace}

plain text

\section{Header with \href{http://www.google.com}{Link}\footnote{\href{http://www.google.com}{http:\slash \slash www.google.com}}}
\label{headerwithlink}

plain text

\section{Header with \href{http://www.google.com}{Link}\footnote{\href{http://www.google.com}{http:\slash \slash www.google.com}}}
\label{headerwithlink}

and more plain text

\section{Header with \href{http://www.google.com}{Link}\footnote{\href{http://www.google.com}{http:\slash \slash www.google.com}} and space}
\label{headerwithlinkandspace}

and more plain text

The following should still be detected as headers:

\chapter{Broken label}
\label{}

\section{Two labels [label][label2]}
\label{}

So that was actually interpreted as unresolved reference link

\section{Reference link not label \href{http://example.com/}{label}\footnote{\href{http://example.com/}{http:\slash \slash example.com\slash }}}
\label{referencelinknotlabellabel}

\section{Link \href{http://example.net/}{not label}\footnote{\href{http://example.net/}{http:\slash \slash example.net\slash }}}
\label{linknotlabel}

\input{mmd-memoir-footer}

\end{document}
